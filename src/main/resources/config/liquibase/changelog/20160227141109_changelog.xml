<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="kozhaa (generated)" id="1456578672377-1">
        <createTable tableName="Developer">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="DeveloperPK"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-2">
        <createTable tableName="ProductBacklog">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="ProductBacklogPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-3">
        <createTable tableName="Task">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="TaskPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="priority" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(255)"/>
            <column name="developer_id" type="BIGINT"/>
            <column name="userStory_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-4">
        <createTable tableName="UserStory">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="UserStoryPK"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="productBacklog_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-5">
        <addForeignKeyConstraint baseColumnNames="productBacklog_id" baseTableName="UserStory" constraintName="FK_1gl6ghal4vqf0j0k22hu16abi" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="ProductBacklog"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-6">
        <addForeignKeyConstraint baseColumnNames="userStory_id" baseTableName="Task" constraintName="FK_78xs7eyw70ih5bsnntwsq1hxp" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="UserStory"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-7">
        <addForeignKeyConstraint baseColumnNames="developer_id" baseTableName="Task" constraintName="FK_nixn7q0kaxtptd3ufiak20drp" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="Developer"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-8">
        <dropForeignKeyConstraint baseTableName="task" constraintName="FK_1e1fho827jnyy4d9bsj7lbqyt"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-9">
        <dropForeignKeyConstraint baseTableName="user_story" constraintName="FK_1q78s2nn88o1u8ajjmaoq6dn9"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-10">
        <dropForeignKeyConstraint baseTableName="task" constraintName="FK_oxajvpo9yaenjbtwrp5qcra4w"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-11">
        <dropTable tableName="product_backlog"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-12">
        <dropTable tableName="user_story"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-13">
        <dropColumn columnName="developer" tableName="task"/>
    </changeSet>
    <changeSet author="kozhaa (generated)" id="1456578672377-14">
        <dropColumn columnName="user_story" tableName="task"/>
    </changeSet>
</databaseChangeLog>
